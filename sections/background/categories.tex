\chapter{Monoidal categories and theories}

\section{Category}

We begin by recalling some basic notions from category theory.

\begin{definition}[Category]
    A \emph{category} \(\mcc\) consists of a class of \emph{objects}
    \(\ob{\mcc}\); a class of \emph{morphisms} \(\mor{\mcc}{A}{B}\)
    for every pair of objects \(A, B \in \ob{\mcc}\); and a \emph{composition}
    operation \(
        \morph{
            {-} \circ {=}
        }{
            \mor{\mcc}{B}{C} \times \mor{\mcc}{A}{B}
        }{
            \mor{\mcc}{A}{C}
        }
    \) such that
    \begin{itemize}
        \item composition is \emph{unital}: for every \(
                    A \in \ob{\mcc}
                \) there exists an \emph{identity morphism} \(
                    \id[A] \in \mor{\mcc}{A}{A}
                \) satisfying \(
                    f \circ \id[A] = f = \id[B] \circ f
                \) for any \(
                    f \in \mor{\mcc}{A}{B}
                \); and
        \item composition is \emph{associative}: for any morphisms \(
                    f \in \mor{\mcc}{A}{B}
                \), \(
                    g \in \mor{\mcc}{B}{C}
                \) and \(h \in \mor{\mcc}{C}{D}\), \(
                    (h \circ g) \circ f = h \circ (g \circ f).
                \)
    \end{itemize}
\end{definition}

A morphism \(f \in \mor{\mcc}{A}{B}\) is also called an \emph{arrow}, and will
often be written \(\morph{f}{A}{B}\) accordingly.
The subscripts on the object and morphism classes are also often omitted.
Equations in category theory can be expressed using \emph{commutative diagrams}.
For example, the unitality and associativity of composition can be illustrated
as follows:

\begin{center}
    \includestandalone{figures/category/coherences/unitality}
    \quad
    \includestandalone{figures/category/coherences/associativity}
\end{center}

We say that the above two diagrams \emph{commute} precisely because \(
    \id[B] \circ f = f \circ \id[A]
\): the results of following two paths that diverge then intersect are equal.
When expressing conditions using commutative diagrams, it becomes natural to
also consider an alternative notation for composition.

\begin{notation}
    \emph{Diagrammatic-order} composition is defined as
    \(f \seq g := g \circ f\).
\end{notation}

We are particularly interested in using categories to model \emph{processes},
in which the morphisms are used to transform source objects into target objects.

\begin{example}
    We define a category of...
\end{example}

There is a particularly important class of morphisms which have a notion of
\emph{invertability}.

\begin{definition}[Isomorphism]
    A morphism \(\morph{f}{A}{B} \in \mcc\) is called an \emph{isomorphism} if
    there also exists morphism \(\morph{\inverse{f}}{B}{A} \in \mcc\) such
    that \(\inverse{f} \circ f = \id[A]\) and \(f \circ \inverse{f} = \id[B]\).
\end{definition}

\section{Functors}

It is rare that one only ever works with a single category at a time.
Consequently we require a way to map between them.

\begin{definition}[Functor]
    Given two categories \(\mcc\) and \(\mcd\), a \emph{functor} \(
        \morph{F}{\mcc}{\mcd}
    \) maps objects and morphisms in \(\mcc\) to objects and morphisms in
    \(\mcd\) such that
    \begin{itemize}
        \item \(F(\id[A]) = \id[FA]\) for every \(A \in \ob{\mcc})\); and
        \item \(F(g \circ f) = F(g) \circ F(f)\) for every \(\morph{f}{A}{B}\)
        and \(\morph{g}{B}{C}\).
    \end{itemize}
\end{definition}

One may even wish to compare functors themselves.

\begin{definition}[Natural transformation]
    Given two functors \(\morph{F, G}{\mcc}{\mcd}\), a
    \emph{natural transformation} \(\morph{\eta}{F}{G}\) is a family of
    morphisms \(
        \eta_A \in \mor{\mcd}{FA}{GA}
    \) called \emph{components} for each \(A \in \ob{\mcc}\) such that \(
        \eta_B \circ Ff = Gf \circ \eta_A
    \), i.e.\ the following diagram commutes:
    \begin{center}
        \includestandalone{figures/category/coherences/natural}
    \end{center}
    A natural transformation is called a \emph{natural isomorphism} if
    every component is an isomorphism.
\end{definition}

\begin{remark}
    There exists a category \(\cat\) in which `small' categories are the objects
    and functors are the morphisms.
    As natural transformations are morphisms between functors, in \(\cat\) they
    are morphisms between morphisms!
    A category with this structure is known as a \(2\)-category in higher
    category lingo, but will keep our feet firmly in the realm of
    \(1\)-categories in this thesis.
\end{remark}

\section{Monoidal categories}

As we have seen, categories allow us to string together multiple processes to
create a composite process.
However, these processes are not particularly interesting: processes cannot have
more than one input or output, and there is no notion of parallelism.
These issues can be allayed by adding structure to elevate a category into a
\emph{monoidal} category, which has a notion of \emph{parallel} composition in
addition to the already defined \emph{sequential} composition.

The parallel composition structure can be added to a regular category by using
a special kind of functor.

\begin{definition}[Product category]
    Given two categories \(\mcc\) and \(\mcd\), their \emph{product category}
    \(\mcc \times \mcd\) is the category in which the objects are defined as \(
        \ob{(\mcc \times \mcd)} := \ob{\mcc} \times \ob{\mcd}
    \) and the morphisms as \[
        \mor{(\mcc \times \mcd)}{(A, A^\prime)}{(A, A^\prime)}
        :=
        \{
            (f, f^\prime)
            \,|\,
            f \in \mor{\mcc}{A}{B},
            f^\prime \in \mor{\mcd}{A^\prime}{B^\prime}
        \}
    \]
\end{definition}

\begin{definition}[Bifunctor]
    A \emph{bifunctor} is a functor with a product category as its domain, i.e.\
    a functor of the form \(\mcc \times \mcd \to \mce\).
\end{definition}

\begin{definition}[Monoidal category]
    A \emph{monoidal category} is a category \(\mcc\) equipped with a
    bifunctor \(\morph{{-} \tensor {=}}{\mcc \times \mcc}{\mcc}\) called the
    \emph{tensor product} and an additional object \(I\) called the
    \emph{monoidal unit},
    along with natural isomorphisms
    \begin{itemize}
        \item \(
            \associator{A}{B}{C}
            \colon
            A \tensor (B \tensor C)
            \cong
            (A \tensor B) \tensor C
            \) called the \emph{associator};
        \item \(
            \leftunitor{A}
            \colon
            I \tensor A
            \cong
            A
            \) called the \emph{left unitor}; and
        \item \(
            \rightunitor{A}
            \colon
            A \tensor I
            \cong
            A
            \) called the \emph{right unitor}
    \end{itemize}
    such that the \emph{pentagon} and the \emph{triangle} diagrams below
    commute:
    \begin{center}
        \includestandalone{figures/category/coherences/pentagon}
        \includestandalone{figures/category/coherences/triangle}
    \end{center}
\end{definition}

We adopt the convention that \(f \tensor g \seq h \tensor k\) should be
bracketed as \((f \tensor g) \seq (h \tensor k)\), i.e.\ \(\tensor\) binds
more strongly than \(\seq\).
However, later in this chapter we will provide an alternative notation for terms
in monoidal categories which will make this distinction redundant.

\section{Symmetric monoidal categories}


\begin{definition}[Symmetric monoidal category]
    A \emph{symmetric monoidal category} (SMC) is a monoidal category \(\mcc\)
    equipped with natural isomorphisms \(
        \swap{A}{B} \colon A \tensor B \cong B \tensor A
    \) such that the following diagrams commute:
    \begin{center}
        \includestandalone{figures/category/coherences/symmetry-unit}
        \includestandalone{figures/category/coherences/symmetry-inverse}

        \vspace{1em}

        \includestandalone{figures/category/coherences/hexagon}
    \end{center}
\end{definition}

\section{Symmetric monoidal theories}

\begin{definition}[PROP~\cite{maclane1965categorical}]
    A \emph{PROP} (category of \emph{PRO}ducts and \emph{P}ermutations) is a
    symmetric monoidal category with objects the
\end{definition}

\begin{definition}[Freely generated monoidal category]
    Let \(\generators\) be a set of \emph{generators} with functions \(
        \morph{\dom,\cod}{\generators}{\nat}
    \) representing their \emph{arities} and \emph{coarities}.
\end{definition}

Symmetric monoidal categories

\begin{definition}[Monoidal theory]
    Let \(\smc{\generators}\) be teh


    A single-sorted symmetric monoidal theory (SMT) is a tuple \(
        (\generators, \dom, \cod, \equations)
    \) where \(\generators\) is a set of \emph{generators}, \(\dom\) is an
    \emph{arity} \(\morph{\dom}{\generators}{\nat}\), \(\cod\) is an
    \emph{coarity} \(\morph{\cod}{\generators}{\nat}\), and \(\equations\) is a
    set of \emph{equations}
\end{definition}

\section{String diagrams}

\section{Symmetric traced monoidal categories}