\section{Frobenius terms as hypergraphs}

It is now time to establish the correspondences between cospans of hypergraphs
and string diagrams.
We will first recount the constructions used by Bonchi et al in
\cite{bonchi2022string} for settings with a Frobenius structure before showing
how we can use their ingredients for a \emph{traced} setting either with or
without a comonoid structure.

\subsection{Frobenius structure}

Monoids and comonoids are structures that crop up all over mathematics.
However, things become really interesting when multiple such structures
\emph{interact}.
One particular combination of a monoid and comonoid structure is known as a
\emph{Frobenius structure}; such structures are particularly relevant to us
because symmetric monoidal terms equipped with a Frobenius structure correspond
precisely to the cospans of hypergraphs defined in the previous section.

\begin{definition}
    \label{def:frob}
    The monoidal theory of \emph{special commutative Frobenius algebras} is
    defined as \((\generators[\frob], \equations[\frob])\), where \(
    \generators[\frob] \coloneqq \{
    \iltikzfig{strings/structure/monoid/merge}[colour=white],
    \iltikzfig{strings/structure/monoid/init}[colour=white],
    \iltikzfig{strings/structure/comonoid/copy}[colour=white],
    \iltikzfig{strings/structure/comonoid/discard}[colour=white]
    \}
    \) and the equations of \(\equations[\frob]\) are listed in
    \cref{fig:frobenius-equations}.
    We write \(\frob \coloneqq \smc{\generators[\frob], \equations[\frob]}\).
\end{definition}

\input{floats/frobenius}

The equations of special Frobenius algebras are those of commutative monoids and
commutative comonoids along with the `Frobenius' and the 'special' equation.

\begin{example}\label{ex:frobenius}
    The following are all terms in \(\frob\):
    \[
        \iltikzfig{strings/structure/frobenius/example-1}
        \quad
        \iltikzfig{strings/structure/frobenius/example-2}
        \quad
        \iltikzfig{strings/structure/frobenius/example-3}
    \]
    Using the equations of \(\equations[\frob]\), it can be shown that the
    latter two terms are equal:
    \begin{gather*}
        \iltikzfig{strings/structure/frobenius/example-2}
        \eqaxioms[\monoidunitleqn]
        \iltikzfig{strings/structure/frobenius/example-equational/step-1}
        \eqaxioms[\frobleqn]
        \iltikzfig{strings/structure/frobenius/example-equational/step-2}
        \eqaxioms[\monoidassoceqn]
        \iltikzfig{strings/structure/frobenius/example-equational/step-3}
        \eqaxioms[\frobreqn]
        \iltikzfig{strings/structure/frobenius/example-3}
    \end{gather*}
\end{example}

\subsection{Coloured Frobenius}

\(\frob\) is a monochromatic PROP.
To define a \emph{coloured} version of \(\frob\) we simply use a different copy
of \(\frob\) to represent each colour, using a fact about \(\propcat\) and
\(\cprop\).

\begin{theorem}[\cite{baez2018props}, Corollary 5.3]
    \(\propcat\) has coproducts.
\end{theorem}

This easily generalises to \(\cprop\) by replacing natural numbers with words.
This means that given coloured PROPs \(\mcc\) and \(\mcd\) with objects the
words in \(\freemon{C}\) and \(\freemon{D}\) respectively, there is also a
coloured PROP \(\mcc + \mcd\) with objects the words in \(\freemon{(C + D)}\)
and morphisms defined in the obvious way.
We can use this to define a multi-coloured version of \(\frob\) as
a coproduct of copies of \(\frob\).

\begin{definition}[\cite{bonchi2022string}]
    \label{def:frobc}
    For a countable set of colours \(C\), let \(\frobc \in \cprop\) be
    defined as \(\frobc \coloneqq \sum_{c \in C}\frob\).
\end{definition}

\begin{example}
    In \(\frobc\), there is a copy of the Frobenius structure for each colour
    in \(\mcc\).
    For example, when \(\mcc \coloneqq \{\bullet,\redbullet\}\), the following
    are terms in \(\frobc\).
    \[
        \iltikzfig{strings/structure/frobenius/example-1-coloured}
        \quad
        \iltikzfig{strings/structure/frobenius/example-2-coloured}
    \]
    Although there are two different colours of wires, these wires cannot
    interact without the addition of other generators to map between them.
\end{example}


\subsection{Hypergraph categories}

Frobenius structures have turned out to be very useful in studying compositional
processes such as quantum processes~\cite{coecke2008interacting} and signal flow
graphs~\cite{bonchi2014categorical,bonchi2015full}.
It is useful to talk about the setting in which \emph{every} object has such a
structure.

\begin{definition}[Hypergraph category~\cite{fong2019hypergraph}]
    \label{def:hypergraph-category}
    A \emph{hypergraph category} is a category in which every object is equipped
    with a special commutative Frobenius algebra subject to the
    \emph{coherence equations} in \cref{fig:hypergraph-coherence}.
\end{definition}

\input{floats/hypergraph-coherence}

\begin{remark}
    The notion of a hypergraph category is so natural that it has been
    rediscovered numerous times over the years!
    They were originally called \emph{well-supported compact closed categories}
    by Carboni and Walters~\cite{carboni1987cartesian}, and have subsequently
    appeared as
    \emph{dgs-monoidal categories}~\cite{katis1997bicategories,gadducci1998inductive,gadducci1999bicategorical,bruni2002normal}
    and \emph{dungeon categories}~\cite{morton2014belief}.
    The term \emph{hypergraph categories} was coined more recently but has
    become the standard in the compositional processes
    community~\cite{kissinger2015finite,fong2015decorated,baez2016compositional,baez2018compositional}.
\end{remark}

As the Frobenius structure is their entire raison d'\^{e}tre, it is unsurprising
that the categories of Frobenius terms we encountered earlier are hypergraph
categories.

\begin{lemma}\label{lem:frob-hypergraph}
    \(\frob\) is a hypergraph category.
\end{lemma}
\begin{proof}
    The generators in \(\frob\) provide the Frobenius structure for the object
    \(1\).
    The Frobenius structure for the other objects constructed through
    \(\tensor\) can be derived by parallel composition, following the recipes
    given in the coherence equations in \cref{fig:hypergraph-coherence}.
\end{proof}

It is now possible to formally define what we mean when we say `Frobenius
terms'.

\begin{definition}
    For a set of generators over \(\generators\), let \(\hypcsigma\) be the PROP
    freely generated over \(\generators + \generators[\frob]\).
\end{definition}

While we can view \(\hypcsigma\) as just `the category containing all the
Frobenius terms', it can be advantageous to view it as a coproduct.

\begin{lemma}
    \(\hypcsigma \cong \smcsigma + \frob\)
\end{lemma}
\begin{proof}
    Every term in \(\hypcsigma\) can be expressed as a combination of
    generators either in \(\smcsigma\) or \(\frob\).
\end{proof}

We can also proceed similarly for the multi-coloured case.

\begin{lemma}\label{lem:frobc-hypergraph}
    \(\frobc\) is a hypergraph category.
\end{lemma}
\begin{proof}
    As \cref{lem:frob-hypergraph}. except there is now a `base' Frobenius
    structure for each colour \(c \in C\).
\end{proof}

\begin{definition}
    For a set of \(\colours\)-coloured generators over \(\generators\), let
    \(\hypcsigmac\) be the \(\colours\)-coloured PROP freely generated over
    \(\generators + \generators[\frobc]\).
\end{definition}

\begin{lemma}
    \(\hypcsigmac \cong \smcsigmac + \frobc\)
\end{lemma}

Viewing \(\hypcsigma\) and \(\hypcsigmac\) as coproducts will prove to be
beneficial when establishing a correspondence between terms and graphs in the
the next section.

\subsection{Hypergraph categories and hypergraphs}

Perhaps confusingly, the category of \emph{hypergraphs} \(\hypcsigmac\) is
\emph{not} a hypergraph category, but the category of \emph{cospans} of
hypergraphs is!
This can be shown by exploiting a correspondence between \(\frob\) and the PROPs
of finite sets we encountered earlier.

\begin{proposition}[\cite{lack2004composing}, Ex. 5.4]\label{prop:frob-finset}
    There is an isomorphism of PROPs \(\frob \cong \csp{\finsetprop}\).
\end{proposition}

We omit the formal proof and sketch the correspondence.
Terms in \(\frob\) are formed of all the ways of combining \(
\iltikzfig{strings/structure/monoid/merge}[colour=white],
\iltikzfig{strings/structure/monoid/init}[colour=white],
\iltikzfig{strings/structure/comonoid/copy}[colour=white],
\iltikzfig{strings/structure/comonoid/discard}[colour=white],
\iltikzfig{strings/category/identity}[colour=white],
\) and \(
\iltikzfig{strings/symmetric/symmetry}[colour=white]
\) in sequence and parallel, so a string diagram for a term \(\morph{f}{m}{n}\)
is depicted as \(x\) connected components drawing paths from \(m\) inputs to
\(n\) outputs, such as in the example below.

\begin{center}
    \iltikzfig{strings/structure/frobenius/example}
\end{center}

Note there is no requirement for each component to connect to one or both
interfaces as the \(
\iltikzfig{strings/structure/monoid/init}[colour=white]
\) and \(
\iltikzfig{strings/structure/comonoid/discard}[colour=white]
\) generators can introduce and stub wires.
A term \(\morph{f}{m}{n}\) with \(x\) connected components corresponds to
a cospan of finite sets \(\cospan{[m]}[i]{[x]}[j]{[n]}\), where the functions
\(i\) and \(j\) map the inputs and outputs to the components they connect to.

\begin{example}
    Consider the term \(\morph{f}{5}{4}\) drawn on the left below.
    This corresponds to a cospan \(\cospan{[5]}{[3]}{[4]}\) as shown on the
    right below.
    \begin{center}
        \iltikzfig{strings/structure/frobenius/example}
        \(\Leftrightarrow\)
        \scalebox{0.75}{\tikzfig{strings/structure/frobenius/example-cospan}}
    \end{center}
\end{example}

The cospan representation shows how all connected Frobenius components can be
`squished' into a single blob.

We have now ascertained the relationship between \(\frob\) and
\(\csp{\finsetprop}\).
The missing link is the relationship between the latter and \(\cspdhyp\);
this arises as a special case of the following theorem.

\begin{theorem}[\cite{bonchi2022string}, Thm. 3.8]
    \label{thm:cospan-homomorphism}
    Let \(\mathbb{X}\) be a PROP whose monoidal product is a coproduct,
    \(\mathbf{C}\) a category with pushouts and an initial object, and
    \(\morph{F}{\mathbb{X}}{\mathbf{C}}\) a coproduct-preserving functor.
    Then there is a homomorphism of PROPs \(
    \morph{\tilde{F}}{\csp{\mathbb{X}}}{\csp[F]{\mathbf{C}}}
    \) that sends \(\cospan{m}[f]{X}[g]{n}\) to
    \(\cospan{Fm}[Ff]{FX}[Fg]{Fn}\).
    If \(F\) is full and faithful, then \(\tilde{F}\) is faithful.
\end{theorem}
\begin{proof}
    Since \(F\) preserves finite colimits, it preserves composition (pushout)
    and monoidal product (coproduct); symmetries are clearly preserved.
    To show that \(\tilde{F}\) is faithful when \(F\) is full and faithful,
    suppose that \(
    \tilde{F}(\cospan{m}[f]{X}[g]{n})
    =
    \tilde{F}(\cospan{m}[f^\prime]{X}[g^\prime]{n})
    \).
    This gives us the following commutative diagram in \(\mathbf{C}\):
    \begin{center}
        \begin{tikzcd}
            & FX \arrow{dd}{\phi} & \\
            Fm \arrow{ur}{Ff} \arrow{dr}{Ff^\prime} & &
            Fn \arrow{ul}{Fg} \arrow{dl}{Fg^\prime} \\
            & FY &
        \end{tikzcd}
    \end{center}
    where \(\phi\) is an isomorphism as objects in \(\csp[F]{\mathbf{C}}\) are
    isomorphism classes of cospans.
    As \(F\) is full, there exists \(\morph{\psi}{X}{Y}\) such that
    \(F\psi = \phi\).
    As \(F\) is faithful, \(\psi\) is an isomorphism; this means
    \(\cospan{m}[f]{X}[g]{n}\) and \(\cospan{m}[f^\prime]{X}[g^\prime]{n}\) are
    equal in \(\csp{\mathbb{X}}\), so \(\tilde{F}\) is faithful.
\end{proof}

\begin{corollary}[\cite{bonchi2022string}, Cor. 3.9]
    \label{cor:finset-to-hyp}
    There is a faithful PROP homomorphism
    \(\morph{\tilde{\pickinterfaces}}{\csp{\finset}}{\cspdhyp}\)
\end{corollary}

With this we can derive a map from Frobenius terms to cospans of hypergraphs.

\begin{definition}
    Let \(\morph{\frobtohypsigma}{\frob}{\cspdhyp}\) be the PROP morphism
    defined by using \cref{prop:frob-finset} followed by
    \cref{cor:finset-to-hyp}.
\end{definition}

\begin{example}
    The action of \(\frobtohypsigma\) on the Frobenius generators is as follows:
    \begin{gather*}
        \frobtohyp[
            \iltikzfig{strings/structure/monoid/merge}[colour=white]
        ]{\generators}
        =
        \iltikzfig{graphs/frobenius/monoid}
        \quad
        \frobtohyp[
            \iltikzfig{strings/structure/monoid/init}[colour=white]
        ]{\generators}
        =
        \iltikzfig{graphs/frobenius/unit}
        \\
        \frobtohyp[
            \iltikzfig{strings/structure/comonoid/copy}[colour=white]
        ]{\generators}
        =
        \iltikzfig{graphs/frobenius/comonoid}
        \quad
        \frobtohyp[
            \iltikzfig{strings/structure/comonoid/discard}[colour=white]
        ]{\generators}
        =
        \iltikzfig{graphs/frobenius/counit}
    \end{gather*}
\end{example}

As there is a faithful embedding of \(\frob\) into \(\cspdhyp\) and both
categories share the same objects, we also get the result we alluded to at the
start of this section.

\begin{corollary}
    \label{cor:csphypsigma-hypergraph}
    \(\cspdhyp\) is a hypergraph category.
\end{corollary}

\subsection{From coloured terms to coloured graphs}

This result shows how the correspondence works for the monochromatic case; what
about for terms coloured by elements of some countable set?
Here, we replace \(\finsetprop\) with the coloured version
\(\finsetpropwithnat \slice C\) seen in the previous section.
A coloured version of \cref{prop:frob-finset} was shown for a \emph{finite} set
of colours in \cite{bonchi2022string}; we recall its proof before extending this
to the \emph{countable} setting we work in.

\begin{lemma}
    \label{lem:slice-iso-terminal}
    In a category \(\mcc\) with a terminal object \(1\),
    \(\mcc \cong \mcc \slice 1\).
\end{lemma}
\begin{proof}
    Since \(1\) is terminal, there is a unique morphism \(A \to 1\) for each
    object \(A\) in \(\mcc\), so there is an object \((A, \morph{!_A}{A}{1})\)
    in \(\mcc \slice 1\) for each object \(A \in \mcc\).
    In \(\mcc \slice 1\) there is a morphism
    \((A, \morph{!_A}{A}{1}) \to (B, \morph{!_B}{B}{1})\) in
    for every morphism \(\morph{f}{A}{B} \in \mcc\) such
    that \(f \seq !_B = !_A\); since both \(f \seq !_B\) and \(!_A\) are
    morphisms \(A \to 1\) they must be the same unique morphism.
    Therefore \(\mcc \cong \mcc \slice 1\).
\end{proof}

\begin{theorem}[\cite{bonchi2022string}, Theorem 2.24]
    \label{thm:frobc-iso-finset-slice-c}
    For a finite set of colours \(C \in \finsetprop\), there is an isomorphism
    of coloured PROPs \(\frobc \cong \csp{\finsetprop \slice C}\).
\end{theorem}
\begin{proof}
    By definition of \(\frobc\),
    \cref{def:frobc,prop:frob-finset,lem:slice-iso-terminal}
    we have that \[
        \frobc
        \coloneqq
        \sum_{c \in C}\frob
        \cong
        \sum_{c \in C}\csp{\finsetprop}
        \cong
        \sum_{c \in C}\csp{\finsetprop \slice 1}
    \]
    In the other direction we have that \(
    \csp{\finsetprop \slice C}
    \cong
    \csp{\finsetprop \slice \sum_{c \in C} 1}
    \) as \(C\) is countable.
    So we need to show that \(
    \sum_{c \in C}\csp{\finsetprop \slice 1}
    \cong
    \csp{\finsetprop \slice \sum_{c \in C} 1}
    \).
    The objects of the former are coproducts of objects in
    \(\finsetprop \slice C\); as this is a coloured prop the coproduct is
    concatenation and subsequently the objects can be viewed as words in
    \(\freemon{C}\).
    Similarly, the objects of the latter are objects of
    \(\finsetprop \slice \sum_{c \in C} 1\), which can clearly also be
    seen as words in \(\freemon{C}\).

    The morphisms of the former are coproducts of cospans, which can
    equivalently be viewed as a single cospan with coproducts in the legs and
    apex; using the reasoning above this means it is a cospan of words in
    \(\freemon{C}\); it is easy to see that this is also the case for morphisms
    in the latter.
\end{proof}

We need to show a version of this for the case where \(C\) may be
\emph{countably infinite}.
The strategy is much the same as, but relies on one small observation.

\begin{lemma}
    \label{lem:finsetprop-finite}
    Let \(C \in \finsetprop\) be a finite cardinal.
    Then \(\finsetpropwithnat \slice C \cong \finsetprop \slice C\).
\end{lemma}
\begin{proof}
    The morphisms in \(\finsetpropwithnat \slice C\) are the morphisms
    \([m] \to C\) for finite \(C\), which are precisely the morphisms of
    \(\finsetprop \slice C\).
\end{proof}

This slips in to the proof above to extend it to \emph{countable} sums.

\begin{theorem}
    \label{thm:frobc-iso-hatfinset-slice-c}
    For a countable set of colours \(C\), there is an isomorphism of coloured
    PROPs \(\frobc \cong \csp{\finsetpropwithnat \slice C}\).
\end{theorem}
\begin{proof}
    The proof is almost the same as \cref{thm:frobc-iso-finset-slice-c} but with
    the addition of \cref{lem:finsetprop-finite}.
    We have that \[
        \frobc
        \coloneqq
        \sum_{c \in C}\frob
        \cong
        \sum_{c \in C}\csp{\finsetprop}
        \cong
        \sum_{c \in C}\csp{\finsetprop \slice 1}
        \cong
        \sum_{c \in C}\csp{\finsetpropwithnat \slice 1}.
    \]
    In the other direction we still have that \(
    \csp{\finsetpropwithnat \slice C}
    \cong
    \csp{\finsetpropwithnat \slice \sum_{c \in C} 1}
    \) as \(C\) is still countable.
    As before we need to show that \(
    \sum_{c \in C}\csp{\finsetpropwithnat \slice 1}
    \cong
    \csp{\finsetpropwithnat \slice \sum_{c \in C} 1}
    \), which follows by the same reasoning as in the prequel.
\end{proof}

As with the monochromatic case, we must now define a map from finite sets to
discrete hypergraphs.

\begin{definition}
    For a countable set of colours \(C\), let
    \(\morph{\pickinterfaces{C}}{\finsetpropwithnat \slice C}{\hypcsigmac}\) be
    defined as the functor that maps a coloured word \(\listvar{w}\) to the
    discrete coloured hypergraph containing an appropriately coloured vertex for
    each element of \(\listvar{w}\).
\end{definition}

\begin{corollary}[\cite{bonchi2022string}, Rem. 3.12]\label{cor:finsets-c-to-hyp}
    There is a faithful coloured PROP homomorphism \(
    \morph{
        \widetilde{\pickinterfacesc{\mcc}}
    }{
        \csp{\finsetpropwithnat \slice \mcc}
    }{
        \cspdchyp
    }
    \).
\end{corollary}

It is now possible to map from coloured Frobeniusterms to cospans of coloured
hypergraphs.

\begin{definition}
    Let \(\morph{\frobtohypsigmac}{\frobc}{\cspdchyp}\) be the homomorphism
    obtained by composing the isomorphism of \cref{thm:frobc-iso-hatfinset-slice-c}
    with \cref{cor:finsets-c-to-hyp}.
\end{definition}

\begin{corollary}
    \(\cspdchyp\) is a hypergraph category.
\end{corollary}

\subsection{From terms to graphs}

Our goal is to map from terms in \(\hypcsigma\) into cospans in \(\cspdhyp\).
As we know that \(\hypcsigma\) can be viewed as the coproduct
\(\smcsigma + \frob\), it suffices to define this map separately from each
category.
The results of the previous section gives us the map \(\frob \to \cspdhyp\);
all that remains is the map from \(\smcsigma\).

\begin{definition}[\cite{bonchi2022string}, Sec. 4.1]\label{def:hyp-morphisms}
    Let \(\morph{\termtohypsigma}{\smcsigma}{\cspdhyp}\) be a PROP
    morphism with the action on generators defined as \(
    \termtohypsigma[\iltikzfig{%
            strings/category/generator%
        }[box=\phi,colour=white,dom=m,cod=n]
    ]
    \coloneqq
    \cospan{m}{\iltikzfig{graphs/terms/generator}}{n}
    \).
\end{definition}

To map from terms in a hypergraph category to cospans of hypergraphs, we simply
put the two maps together.

\begin{definition}
    Let \(
    \morph{\termandfrobtohypsigma}{\smcsigma + \frob}{\cspdhyp}
    \) be the PROP morphism defined as the copairing of \(\termtohypsigma\) and
    \(\frobtohypsigma\).
\end{definition}

Already we have all we need to state one of the key results of
\cite{bonchi2022string}: the correspondence between terms with a Frobenius
structure and cospans of hypergraphs.
We will state one corollary concerning cospans of discrete hypergraphs before
proceeding to the main result.

\begin{corollary}
    \label{cor:discrete-hypergraph-frob}
    Given a discrete hypergraph \(k \in \hypsigma\), any cospan
    \(\cospan{m}{k}{n}\) in \(\cspdhyp\) is in the
    image of \(\frobtohypsigma\).
\end{corollary}
\begin{proof}
    By \cref{prop:frob-finset}.
\end{proof}

Cospans of this form will play a part in the main theorem, in which we show the
isomorphism between Frobenius terms and cospans of hypergraphs by decomposing a
given cospan into a particular form.

\begin{theorem}[\cite{bonchi2022string}, Theorem 4.1]
    \label{thm:isomorphism-smcfrob-cospans}
    There is an isomorphism of PROPs \(\smcsigma + \frob \cong \cspdchyp\).
\end{theorem}
\begin{proof}
    Since \(\smcsigma + \frob\) is a coproduct in \(\propcat\), this can be
    shown by proving that \(\cspdhyp\) satisfies the universal property of the
    coproduct: given a coloured PROP \(\mathbb{A}\) and PROP morphisms
    \(\smcsigma \to \mathbb{A}\) and \(\frob \to \mathbb{A}\), there exists
    a unique morphism \(\morph{u}{\cspdhyp}{\mathbb{A}}\) as below:
    %
    \begin{center}
        \includestandalone{figures/graphs/isomorphism/coproduct-iso}
    \end{center}
    %
    All the PROP morphisms involved are identity-on-objects, so all that is
    required to show the existence of \(u\) is to show that any morphism in
    \(\cspdchyp\) can be expressed as a composition of components either in the
    image of \(\termtohypsigma\) or \(\frobtohypsigma\).

    Consider a cospan \(\cospan{m}[f]{G}[g]{n}\) in \(\cspdchyp\); let \(N\) be
    the set of nodes, let \(E\) be the set of hyperedges, and let
    \(\morph{\chi}{E}{\generators}\) be the induced labelling function.
    Pick an order \(e_0, e_1, e_{j-1}\) on the edges; then define \(
    \cospan{\tilde{m}}[s]{\tilde{E}}[t]{\tilde{n}}
    \) as the cospan \(
    \bigtensor_{0 \leq i < j}
    \termtohypsigma[\chi(e_i)]
    \).
    This cospan `stacks up' the edges in \(G\) without connecting them together;
    the legs of the cospan are the sources and targets of these
    edges concatenated in the order specified.
    It is easy to define functions \(\morph{f^\prime}{m}{N}\),
    \(\morph{g^\prime}{n}{N}\), \(\morph{h}{\tilde{m}}{N}\) and
    \(\morph{k}{\tilde{n}}{N}\) that send nodes to the corresponding node in the
    set of all nodes in the graph.

    With this data, the original cospan \(\cospan{m}[f]{G}[g]{n}\) can be
    viewed as the following composition of cospans: \[
        (
        \cospan{m}[f^\prime]{N}[(\id,h)]{N \tensor \tilde{n}}
        ) \seq (
        \cospan{
            N \tensor \tilde{n}
        }[
            \id \tensor s
        ]{
            N \tensor \tilde{E}
        }[
            \id \tensor t
        ]{
            N \tensor \tilde{m}
        }
        ) \seq (
        \cospan{N \tensor \tilde{m}}[(\id, k)]{N}[g^\prime]{n}
        ).
    \]
    This is all well-defined because \(\tensor\) is the coproduct in
    \(\hypsigmac\).
    By computing the composition by pushout, it can be shown that the composite
    above is isomorphic to the original cospan \(\cospan{m}[f]{G}[g]{n}\).

    Now it must be verified that each cospan in the composite is in the image
    of either \(\termtohypsigma\) or \(\frobtohypsigma\).
    The outer cospans are discrete so they are in the image of
    \(\frobtohypsigma\) by \cref{cor:discrete-hypergraph-frob}.
    The centre cospan is constructed from the identity and cospans in the image
    of \(\termtohypsigma\), so the entire cospan is in the
    image of \(\termtohypsigma\).

    The morphism \(u\) can therefore be defined based on the actions of
    \(\termtohypsigma\) and \(\frobtohypsigma\).
    This morphism is unique: although different orders can be assigned on the
    edges, all the categories are symmetric monoidal so this is not an issue.
\end{proof}

At first glance, the composite cospan described above might look confusing.
As mentioned, the central cospan \(\cospan{\tilde{m}}{\tilde{E}}{\tilde{n}}\)
serves to `stack up' the edges in some order, all detached from each other.
To make the entire cospan isomorphic to the original, the connections of the
sources and targets must be the same: the job of the two outer cospans is to
`join them up' appropriately by connecting targets on the right to sources on
the left by going `over the top' of the edges via the identity cospan
\(\cospan{N}{N}{N}\).

\begin{example}
    Recall the following terms in \(\frob\) from \cref{ex:frobenius}, which
    we showed were equal by the Frobenius equations.
    \[
        \iltikzfig{strings/structure/frobenius/example-2}
        =
        \iltikzfig{strings/structure/frobenius/example-3}
    \]
    By the isomorphism of \cref{thm:isomorphism-smcfrob-cospans}, these two
    terms should map to the same cospan of hypergraphs and, indeed, they both
    map to the following:
    \[
        \iltikzfig{graphs/example-frobenius-collapse}
    \]
    All of the Frobenius structure collapses into one vertex, much like when we
    considered the correspondence between Frobenius terms and finite sets.
\end{example}

\subsection{The coloured correspondence}

The results for the monochromatic case also follow for the coloured case, so we
can restate the correspondence for coloured terms and hypergraphs.

\begin{definition}
    Let \(\morph{\termandfrobtohypsigmac}{\smcsigmac}{\cspdchyp}\) be defined
    as \(\termandfrobtohypsigma\) but assigning appropriate colours to the
    danging vertices.
\end{definition}

\begin{definition}
    Let \(
    \morph{\termandfrobtohypsigmac}{\smcsigmac + \frobc}{\cspdchyp}
    \) be the copairing of \(\termtohypsigmac\) and
    \(\frobtohypsigmac\).
\end{definition}

\begin{theorem}[\cite{bonchi2022string}, Prop. 4.4]
    There is an isomorphism of \(\mcc\)-coloured PROPs
    \(\hypcsigmac \cong \cspdchyp\).
\end{theorem}
\begin{proof}
    In the same manner as \cref{thm:isomorphism-smcfrob-cospans}, but the
    components of the composite cospan now have appropriately coloured vertices.
\end{proof}