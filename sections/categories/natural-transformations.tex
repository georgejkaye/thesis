\section{Natural transformations}\label{sec:natural-transformations}

As we have seen, functors are useful for mapping objects and morphisms from one
category to another in a way that respects the underlying compositional
structure.
Of course, there may be many such functors \(\mcc \to \mcd\); the logical next
step is to consider maps between functors themselves.
These maps are known as \emph{natural transformations}.

\begin{definition}[Natural transformation]
    Given two functors \(\morph{F, G}{\mcc}{\mcd}\), a
    \emph{natural transformation} \(\morph{\eta}{F}{G}\) is a family of
    morphisms \(
    \eta_A \in \mor{\mcd}{FA}{GA}
    \) for each \(A \in \ob{\mcc}\), called the \emph{components} of \(\eta\),
    such that \(
    \eta_B \circ Ff = Gf \circ \eta_A
    \), i.e.\ the following diagram commutes:
    \begin{center}
        \includestandalone{figures/category/coherences/natural}
    \end{center}
\end{definition}

The key point to take is that for functors \(\morph{F,G}{\mcc}{\mcd}\), a
natural transformation \(\morph{\eta}{F}{G}\) is a \emph{family} of morphisms
\(\morph{\eta_A}{FA}{GA} \in \mcd\) (the components) for each object
\(A \in \mcd\).
Subsequently, one can think of a natural transformation as a way of inducing
morphisms of a certain structure across an \emph{entire category}.
Graphically, the naturality equation can be seen as how a natural transformation
can be `pushed through' morphisms, as shown in \cref{fig:naturality-equations}.

\input{floats/naturality-equations}

We established that functors are morphisms between categories; in a similar
vein natural transformations are morphisms between functors.

\begin{definition}[Functor category]
    Given two categories \(\mcc\) and \(\mcd\), a \emph{functor category}
    \([\mcc,\mcd]\) has as objects the functors \(\mcc \to \mcd\) and as
    morphisms \(F \to G\) the natural transformations between these functors.
\end{definition}

Like with the category of categories, viewing functors in this way allows us to
reason with them in the same way as regular objects and morphisms.

\subsection{Examples of natural transformations}

Natural transformations also often arise across mathematics and
computer science.

\begin{example}[Singleton transformation]
    Recall the \(\listf\) functor from \cref{ex:list-functor}.
    An example of a natural transformation is the
    \emph{singleton transformation} \(\morph{[-]}{\idf}{\listf}\), which
    induces a function \(\morph{[-]}{X}{\freemon{X}}\) for each set \(X\),
    defined as \(x \mapsto [x]\).
\end{example}

\begin{example}[Reduce]
    Recall the functors \(\morph{F}{\set}{\mon}\) and \(\morph{U}{\mon}{\set}\)
    from \cref{ex:free-monoid}.
    Functors can be composed just like morphisms, so \(F \circ U\) is a
    functor \(\mon \to \mon\): such a functor has action \(
    (X, *, e) \mapsto (\freemon{X}, \concat, [])
    \).
    The component of a natural transformation \(
    F \circ U \to \idf
    \) at object \((X, *, e)\) is a monoid homomorphism \(
    (\freemon{X}, \concat, []) \to (X, *, e)
    \), i.e.\ a function \(\freemon{X} \to X\).

    One example of such a natural transformation is the \emph{reduce} or
    \emph{fold} operation, which takes a list in \(\freemon{X}\) and reduces it
    to an element of \(X\) by starting with the unit \(e\) and multiplying it
    with each element of the list in turn.
\end{example}

As natural transformations are defined in terms of families of morphisms, they
can inherit properties of the components.

\begin{definition}[Natural isomorphism]
    A natural transformation is called a \emph{natural isomorphism} if every
    component is an isomorphism.
\end{definition}